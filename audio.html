<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√öMIT | –ê—É–¥–∏–æ –ü–ª–µ–µ—Ä</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Montserrat:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        /* –ù–ï–ì–Ü–ó–ì–Ü –¢“Æ–°–¢–ï–† (–ú–∏–Ω–∏–º–∞–ª–¥—ã –ù–µ–æ–Ω) */
        :root {
            --dark-bg: #000000;
            --main-neon: #00FFFF; /* –ö”©–∫ –∞–∫—Ü–µ–Ω—Ç */
            --secondary-neon: #FF00FF; /* –ö“Ø–ª–≥—ñ–Ω –∞–∫—Ü–µ–Ω—Ç */
            --light-text: #E0FFFF; /* –ê—à—ã“õ –º”ô—Ç—ñ–Ω */
            --player-bg: #151515; /* “ö–∞—Ä–∞“£“ì—ã —Ñ–æ–Ω */
            --list-bg: #0a0a0a;
            --progress-track: #333;
            --progress-fill: var(--main-neon);
        }

        /* –ù–ï–ì–Ü–ó–ì–Ü –°–¢–ò–õ–¨–î–ï–† */
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--dark-bg); 
            color: var(--light-text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            width: 95%;
            max-width: 900px;
            margin: 30px auto;
            padding: 0 0 50px 0;
        }
        
        .header {
            text-align: center;
            padding: 30px 0;
        }
        
        .header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2em;
            color: var(--main-neon);
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
            margin-bottom: 5px;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            text-decoration: none;
            color: var(--secondary-neon);
            font-size: 1em;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: var(--main-neon);
        }

        /* ==================================== */
        /* üéß –ù–ï–ì–Ü–ó–ì–Ü –ü–õ–ï–ï–† (–°–£–†–ï–¢–¢–ï–ì–Ü–î–ï–ô) */
        /* ==================================== */
        
        /* “Æ–ª–∫–µ–Ω –æ—Ä—Ç–∞–ª—ã“õ –ø–ª–µ–µ—Ä –±–ª–æ–≥—ã */
        .main-player-card {
            background-color: var(--player-bg);
            border: 1px solid var(--progress-fill);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            margin-bottom: 30px;
        }

        .main-player-card h2 {
            font-family: 'Orbitron', sans-serif;
            color: #FFF;
            font-size: 1.8em;
            margin-top: 0;
        }

        /* –û–±–ª–æ–∂–∫–∞ / –°”ô–Ω–¥–µ—É –±–ª–æ–≥—ã */
        .cover-art {
            width: 180px;
            height: 180px;
            background-color: #333;
            border-radius: 50%; /* –î”©“£–≥–µ–ª–µ–∫ —Ñ–æ—Ä–º–∞ */
            margin: 0 auto 30px auto;
            overflow: hidden;
            border: 5px solid var(--dark-bg);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3em;
            color: var(--main-neon);
        }

        /* Progress Bar (–î–æ—Ä–æ–∂–∫–∞) */
        .progress-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
        }

        .progress-time {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.85em;
            color: var(--light-text);
        }

        .progress-bar-wrap {
            flex-grow: 1;
            height: 8px;
            background-color: var(--progress-track);
            border-radius: 4px;
            cursor: pointer;
            position: relative;
        }
        
        .progress-bar {
            height: 100%;
            width: 0%;
            background-color: var(--progress-fill);
            border-radius: 4px;
            transition: width 0.1s linear;
        }

        /* –ë–∞—Å“õ–∞—Ä—É –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã (–û–π–Ω–∞—Ç—É, –ê–ª“ì–∞/–ö–µ—Ä—ñ) */
        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        .control-btn {
            background: none;
            border: none;
            color: var(--light-text);
            cursor: pointer;
            font-size: 1.5em;
            padding: 10px;
            transition: color 0.2s ease, transform 0.2s ease;
        }
        
        .control-btn:hover {
            color: var(--main-neon);
            transform: scale(1.1);
        }

        .control-btn.main-play {
            font-size: 2.5em;
            color: var(--main-neon);
        }

        .control-btn.main-play:hover {
            transform: scale(1.15);
        }
        
        /* –¢–∞“£–¥–∞—É–ª—ã –ë–∞—Ç—ã—Ä–º–∞—Å—ã */
        .favorite-btn-main {
            position: absolute;
            top: 25px;
            right: 25px;
            font-size: 1.5em;
            cursor: pointer;
            color: #666;
            transition: color 0.3s;
        }

        .favorite-btn-main.active-favorite {
            color: #FFD700; 
        }

        /* ==================================== */
        /* üé∂ –¢–Ü–ó–Ü–ú –°–¢–ò–õ–Ü (–ü–ª–µ–π–ª–∏—Å—Ç) */
        /* ==================================== */

        .playlist-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3em;
            color: var(--secondary-neon);
            margin-bottom: 15px;
            text-shadow: 0 0 5px rgba(255, 0, 255, 0.4);
        }

        .playlist-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 10px;
            margin-bottom: 5px;
            background-color: var(--list-bg);
            border-bottom: 1px solid #222;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            border-radius: 4px;
        }

        .playlist-item:hover {
            background-color: #1a1a1a;
        }

        .playlist-item.playing {
            background-color: rgba(0, 255, 255, 0.1);
            border-left: 5px solid var(--main-neon);
            color: var(--main-neon);
            font-weight: bold;
        }

        .item-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .item-info .fa-music, .item-info .fa-wave-square {
            color: var(--secondary-neon);
            font-size: 1.1em;
        }
        
        .item-duration {
            font-size: 0.9em;
            color: #999;
        }
        
        .playlist-item.playing .item-duration {
            color: var(--main-neon);
        }


        /* üì± –ú–û–ë–ò–õ–¨–î–Ü–ö –ë–ï–ô–Ü–ú–î–Ü–õ–Ü–ö (RESPONSIVE) */
        @media (max-width: 768px) {
            .container {
                width: 90%;
            }
            .header h1 {
                font-size: 1.5em;
            }
            .main-player-card {
                padding: 15px;
            }
            .main-player-card h2 {
                font-size: 1.2em;
            }
            .cover-art {
                width: 140px;
                height: 140px;
                margin-bottom: 20px;
            }
            .control-btn {
                font-size: 1.3em;
            }
            .control-btn.main-play {
                font-size: 2em;
            }
            .favorite-btn-main {
                top: 15px;
                right: 15px;
            }
        }
    </style>
</head>
<body>
    
    <div class="container">
        <a href="index.html" class="back-link">
            <i class="fas fa-arrow-left"></i> –ê—Ä—Ç“õ–∞ “ö–∞–π—Ç—É (–ù–µ–≥—ñ–∑–≥—ñ –ë–µ—Ç)
        </a>

        <div class="header">
            <h1>–ê—É–¥–∏–æ ”®–ª–µ“£–¥–µ—Ä –ü–ª–µ–µ—Ä—ñ</h1>
        </div>
        
        <div class="main-player-card">
            <span class="favorite-btn-main" id="main-favorite-btn"><i class="far fa-heart"></i></span>
            
            <div class="cover-art"><i class="fas fa-wave-square"></i></div>
            <h2 id="current-track-title">–¢—Ä–µ–∫—Ç—ñ —Ç–∞“£–¥–∞“£—ã–∑</h2>
            
            <audio id="global-audio-player" src="" preload="metadata"></audio>
            
            <div class="progress-container">
                <div class="progress-time current-time" id="current-time">0:00</div>
                <div class="progress-bar-wrap" id="progress-bar-wrap">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="progress-time duration" id="duration">0:00</div>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="skipTime(-10)"><i class="fas fa-backward"></i></button>
                <button class="control-btn main-play" id="main-play-btn" onclick="togglePlay()">
                    <i class="fas fa-play"></i>
                </button>
                <button class="control-btn" onclick="skipTime(10)"><i class="fas fa-forward"></i></button>
            </div>
        </div>
        
        <div class="playlist">
            <p class="playlist-title">”®–ª–µ“£–¥–µ—Ä –¢—ñ–∑—ñ–º—ñ:</p>

            <div class="playlist-item" data-index="0">
                <div class="item-info">
                    <i class="fas fa-music"></i>
                    <span>1. Orta j√∫z</span>
                </div>
                <span class="item-duration">0:00</span>
            </div>
            
            <div class="playlist-item" data-index="1">
                <div class="item-info">
                    <i class="fas fa-music"></i>
                    <span>2. Jaryl«µap batyr</span>
                </div>
                <span class="item-duration">0:00</span>
            </div>
            
            <div class="playlist-item" data-index="2">
                <div class="item-info">
                    <i class="fas fa-music"></i>
                    <span>3. –¢–µ–≥—ñ–º–Ω—ñ“£ —Ä—É—Ö—ã</span>
                </div>
                <span class="item-duration">0:00</span>
            </div>

        </div>

    </div>

    <script>
        // ===================================================
        // –ñ–ê“¢–ê –ê–£–î–ò–û –ü–õ–ï–ï–† –§–£–ù–ö–¶–ò–Ø–õ–ê–†–´
        // ===================================================

        const audioPlayer = document.getElementById('global-audio-player');
        const playBtn = document.getElementById('main-play-btn');
        const playIcon = playBtn.querySelector('i');
        const progressBarWrap = document.getElementById('progress-bar-wrap');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeDisplay = document.getElementById('current-time');
        const durationDisplay = document.getElementById('duration');
        const trackTitle = document.getElementById('current-track-title');
        const playlistItems = document.querySelectorAll('.playlist-item');
        const mainFavoriteBtn = document.getElementById('main-favorite-btn');

        let currentTrackIndex = -1; // “ö–∞–∑—ñ—Ä –æ–π–Ω–∞–ø —Ç“±—Ä“ì–∞–Ω —Ç—Ä–µ–∫—Ç—ñ“£ –∏–Ω–¥–µ–∫—Å—ñ

        // –ê—É–¥–∏–æ –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ (–§–∞–π–ª–¥–∞—Ä–¥—ã index.html-–º–µ–Ω –±—ñ—Ä–¥–µ–π –ø–∞–ø–∫–∞“ì–∞ —Å–∞–ª—ã“£—ã–∑)
        const tracks = [
            { title: "1. Orta j√∫z", src: "orta_juz_audio.mp3" },
            { title: "2. Jaryl«µap batyr", src: "jarylgap_batyr_audio.mp3" },
            { title: "3. –¢–µ–≥—ñ–º–Ω—ñ“£ —Ä—É—Ö—ã", src: "tegimnin_ruhy_audio.mp3" }
        ];

        /** –£–∞“õ—ã—Ç—Ç—ã MM:SS —Ñ–æ—Ä–º–∞—Ç—ã–Ω–∞ —Ç“Ø—Ä–ª–µ–Ω–¥—ñ—Ä—É */
        function formatTime(seconds) {
            if (isNaN(seconds)) return "0:00";
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            const paddedSeconds = String(remainingSeconds).padStart(2, '0');
            return `${minutes}:${paddedSeconds}`;
        }

        /** –¢—Ä–µ–∫—Ç—ñ —Ç–∞“£–¥–∞—É –∂”ô–Ω–µ –æ–π–Ω–∞—Ç—É */
        function loadTrack(index) {
            if (index < 0 || index >= tracks.length) return;

            // –ï–≥–µ—Ä —Å–æ–ª —Ç—Ä–µ–∫ –±–æ–ª—Å–∞, –µ—à—Ç–µ“£–µ —ñ—Å—Ç–µ–º–µ–π–º—ñ–∑
            if (currentTrackIndex === index && !audioPlayer.paused) {
                return;
            }

            // –û–π–Ω–∞—Ç“õ—ã—à—Ç—ã –∂–∞“£–∞—Ä—Ç—É
            currentTrackIndex = index;
            audioPlayer.src = tracks[index].src;
            trackTitle.textContent = tracks[index].title;

            // –¢—ñ–∑—ñ–º —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä—ñ–Ω –∂–∞“£–∞—Ä—Ç—É
            playlistItems.forEach((item, i) => {
                item.classList.remove('playing');
                if (i === index) {
                    item.classList.add('playing');
                }
            });

            // –ê—É–¥–∏–æ–Ω—ã –∂“Ø–∫—Ç–µ–ø, –æ–π–Ω–∞—Ç—É“ì–∞ –¥–∞–π—ã–Ω–¥–∞—É
            audioPlayer.load(); 
            audioPlayer.play();
            playIcon.className = 'fas fa-pause';
        }

        /** –û–π–Ω–∞—Ç—É–¥—ã –Ω–µ–º–µ—Å–µ —Ç–æ“õ—Ç–∞—Ç—É–¥—ã –∞—É—ã—Å—Ç—ã—Ä–∞–¥—ã */
        function togglePlay() {
            if (currentTrackIndex === -1) {
                // –ï–≥–µ—Ä —Ç—Ä–µ–∫ —Ç–∞“£–¥–∞–ª–º–∞—Å–∞, –±—ñ—Ä—ñ–Ω—à—ñ —Ç—Ä–µ–∫—Ç—ñ –æ–π–Ω–∞—Ç—É
                loadTrack(0);
                return;
            }

            if (audioPlayer.paused) {
                audioPlayer.play();
                playIcon.className = 'fas fa-pause';
            } else {
                audioPlayer.pause();
                playIcon.className = 'fas fa-play';
            }
        }
        
        /** –£–∞“õ—ã—Ç—Ç—ã –∫–µ—Ä—ñ/–∞–ª“ì–∞ –∂—ã–ª–∂—ã—Ç—É */
        function skipTime(time) {
            if (currentTrackIndex !== -1) {
                audioPlayer.currentTime += time;
            }
        }

        /** –¢–∞“£–¥–∞—É–ª—ã –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω—ã“£ –∫“Ø–π—ñ–Ω –∞—É—ã—Å—Ç—ã—Ä–∞–¥—ã */
        function toggleFavorite(button = mainFavoriteBtn) {
            const icon = button.querySelector('i');
            button.classList.toggle('active-favorite');
            
            if (icon.classList.contains('far')) {
                icon.className = 'fas fa-heart';
            } else {
                icon.className = 'far fa-heart';
            }
        }

        // ===================================================
        // –û“ö–ò“í–ê–õ–ê–†–î–´ –ë–ê“ö–´–õ–ê–£ (EVENTS)
        // ===================================================
        
        // –ê—É–¥–∏–æ –∂“Ø–∫—Ç–µ–ª–≥–µ–Ω–¥–µ –∂–∞–ª–ø—ã “±–∑–∞“õ—Ç—ã“ì—ã–Ω –∂”ô–Ω–µ —Ç—ñ–∑—ñ–º–¥–µ–≥—ñ “±–∑–∞“õ—Ç—ã“õ—Ç—ã –∫”©—Ä—Å–µ—Ç—É
        audioPlayer.addEventListener('loadedmetadata', () => {
            durationDisplay.textContent = formatTime(audioPlayer.duration);
        });
        
        // –ê—É–¥–∏–æ –æ–π–Ω–∞–ø –∂–∞—Ç“õ–∞–Ω–¥–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–µ–Ω —É–∞“õ—ã—Ç—Ç—ã –∂–∞“£–∞—Ä—Ç—É
        audioPlayer.addEventListener('timeupdate', () => {
            const percentage = (audioPlayer.currentTime / audioPlayer.duration) * 100;
            progressBar.style.width = `${percentage}%`;
            currentTimeDisplay.textContent = formatTime(audioPlayer.currentTime);
        });

        // –ê—É–¥–∏–æ –∞—è“õ—Ç–∞–ª“ì–∞–Ω–¥–∞ (–ö–µ–ª–µ—Å—ñ —Ç—Ä–µ–∫–∫–µ ”©—Ç—É–≥–µ –±–æ–ª–∞–¥—ã)
        audioPlayer.addEventListener('ended', () => {
            playIcon.className = 'fas fa-play';
            // –ö–µ–ª–µ—Å—ñ —Ç—Ä–µ–∫–∫–µ ”©—Ç—É –ª–æ–≥–∏–∫–∞—Å—ã–Ω “õ–æ—Å—É“ì–∞ –±–æ–ª–∞–¥—ã: loadTrack((currentTrackIndex + 1) % tracks.length);
        });
        
        // –ü—Ä–æ–≥—Ä–µ—Å—Å –∂–æ–ª–∞“ì—ã–Ω –±–∞—Å“õ–∞–Ω–¥–∞/–∂—ã–ª–∂—ã—Ç“õ–∞–Ω–¥–∞
        progressBarWrap.addEventListener('click', (e) => {
            const rect = progressBarWrap.getBoundingClientRect();
            const clickPosition = e.clientX - rect.left;
            const percentage = clickPosition / rect.width;
            
            if (currentTrackIndex !== -1) {
                audioPlayer.currentTime = audioPlayer.duration * percentage;
            }
        });

        // –ü–ª–µ–π–ª–∏—Å—Ç —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä—ñ–Ω –±–∞—Å—É
        playlistItems.forEach((item, index) => {
            item.addEventListener('click', () => {
                loadTrack(index);
            });
        });

        // –¢—Ä–µ–∫ “±–∑–∞“õ—Ç—ã“õ—Ç–∞—Ä—ã–Ω –∫”©—Ä—Å–µ—Ç—É “Ø—à—ñ–Ω –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ –∞–ª–¥—ã–Ω –∞–ª–∞ –∂“Ø–∫—Ç–µ—É (–º–∏–Ω–∏–º–∞–ª–¥—ã)
        tracks.forEach((track, index) => {
            const tempAudio = new Audio(track.src);
            tempAudio.addEventListener('loadedmetadata', () => {
                playlistItems[index].querySelector('.item-duration').textContent = formatTime(tempAudio.duration);
            }, { once: true });
        });

    </script>

</body>
</html>