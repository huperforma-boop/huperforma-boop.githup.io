<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√öMIT | A√Ωdƒ±o Pleƒ±er (Neon)</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Montserrat:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        /* –ù–ï–ì–Ü–ó–ì–Ü –¢“Æ–°–¢–ï–† (–ù–µ–æ–Ω) */
        :root {
            --dark-bg: #000000;
            --main-neon: #00FFFF; /* K√≥k aktsent */
            --secondary-neon: #FF00FF; /* K√∫lgin aktsent */
            --light-text: #E0FFFF; 
            --player-bg: #151515; 
            --list-bg: #0a0a0a;
            --lyrics-bg: rgba(0, 255, 255, 0.1); 
            --neon-shadow-heavy: 0 0 10px var(--main-neon), 0 0 25px rgba(0, 255, 255, 0.5);
            --neon-shadow-light: 0 0 5px var(--main-neon);
        }

        /* –ù–ï–ì–Ü–ó–ì–Ü –°–¢–ò–õ–¨–î–ï–† */
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--dark-bg); 
            color: var(--light-text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            width: 95%;
            max-width: 900px;
            margin: 30px auto;
            padding: 0 0 50px 0;
        }

        .header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2em;
            color: var(--main-neon);
            text-align: center;
            text-shadow: var(--neon-shadow-light);
            margin-bottom: 30px;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            text-decoration: none;
            color: var(--secondary-neon);
            font-size: 1em;
            transition: color 0.2s;
            text-shadow: 0 0 5px rgba(255, 0, 255, 0.5);
        }
        
        @keyframes pulseNeon {
            0% { box-shadow: 0 0 5px var(--main-neon); }
            50% { box-shadow: 0 0 10px var(--main-neon), 0 0 20px rgba(0, 255, 255, 0.4); }
            100% { box-shadow: 0 0 5px var(--main-neon); }
        }

        /* üéß NEGIZGI PLEER */
        .main-player-card {
            background-color: var(--player-bg);
            border: 2px solid var(--main-neon); 
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4); 
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            animation: pulseNeon 4s infinite alternate ease-in-out; 
        }

        .cover-art {
            width: 180px; height: 180px; border-radius: 50%; margin: 0 auto 30px auto; overflow: hidden;
            display: flex; justify-content: center; align-items: center; font-size: 3em; color: var(--main-neon);
            background-color: #333;
            box-shadow: 0 0 15px var(--secondary-neon); 
        }

        .cover-art img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            box-shadow: 0 0 5px var(--main-neon);
            transition: transform 0.3s ease;
        }
        
        .cover-art img.active {
            animation: rotateCover 10s linear infinite;
        }
        
        @keyframes rotateCover {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        #current-track-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5em;
            color: var(--secondary-neon);
            text-shadow: 0 0 8px var(--secondary-neon);
        }
        
        .controls {
            display: flex; justify-content: center; gap: 15px; margin-top: 15px;
            align-items: center;
        }
        
        .control-btn {
            background: none; border: none; color: var(--light-text); cursor: pointer;
            font-size: 1.3em; padding: 10px; transition: color 0.2s ease, transform 0.2s ease;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5); 
        }
        
        .control-btn:hover {
            color: var(--main-neon);
            transform: scale(1.1);
            text-shadow: var(--neon-shadow-heavy);
        }

        .control-btn.main-play {
            font-size: 2.5em; 
            color: var(--main-neon);
            text-shadow: var(--neon-shadow-heavy);
        }

        /* üéµ PROGRESS JOLA«¥Y */
        .progress-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 20px 0 10px 0;
            padding: 0 10px;
        }

        .time-display {
            font-size: 0.9em;
            color: var(--main-neon);
            text-shadow: var(--neon-shadow-light);
            width: 50px; 
            text-align: center;
        }

        #progress-bar {
            flex-grow: 1;
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            background: rgba(255, 255, 255, 0.1); 
            border-radius: 4px;
            cursor: pointer;
            box-shadow: 0 0 5px var(--main-neon) inset; 
            transition: all 0.2s ease;
        }
        
        #progress-bar::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--secondary-neon); 
            cursor: pointer;
            border: 2px solid var(--light-text);
            box-shadow: 0 0 10px var(--secondary-neon), 0 0 20px rgba(255, 0, 255, 0.7); 
            margin-top: -3.5px; 
            transition: all 0.2s ease;
        }
        
        /* üîä –î—ã–±—ã—Å –¥–µ“£–≥–µ–π—ñ */
        .volume-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            color: var(--secondary-neon);
        }

        #volume-slider {
            width: 100px;
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            cursor: pointer;
            box-shadow: 0 0 3px var(--secondary-neon) inset;
        }

        #volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--main-neon);
            cursor: pointer;
            box-shadow: 0 0 8px var(--main-neon);
            border: 1px solid var(--dark-bg);
        }

        /* üé∂ PLEILIST */
        .playlist-title {
            font-family: 'Orbitron', sans-serif;
            color: var(--light-text);
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 15px;
        }

        .playlist-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 10px;
            margin-bottom: 5px;
            background-color: var(--list-bg);
            border-bottom: 1px solid #222;
            cursor: pointer;
            border-radius: 4px;
            flex-wrap: wrap; 
            transition: background-color 0.2s;
        }

        .playlist-item:hover {
             background-color: #1a1a1a;
        }

        .playlist-item.playing {
            background-color: rgba(0, 255, 255, 0.15);
            border-left: 5px solid var(--main-neon);
            color: var(--main-neon);
            font-weight: bold;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5); 
        }

        /* üîç IZDE√ù JOLA«¥Y */
        .search-container {
            position: relative;
            margin-bottom: 20px;
        }

        #playlist-search {
            width: 100%;
            padding: 12px 40px 12px 15px; 
            border: 2px solid var(--secondary-neon);
            background-color: #0d0d1a;
            color: var(--light-text);
            border-radius: 8px;
            font-size: 1em;
            box-shadow: 0 0 10px rgba(255, 0, 255, 0.5);
            box-sizing: border-box; 
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--secondary-neon);
            font-size: 1.2em;
        }

        .playlist-item.hidden {
            display: none;
        }
        
        .item-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .lyrics-toggle-btn {
            background-color: var(--secondary-neon);
            color: var(--dark-bg);
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        /* üìù M√ÅTIN BLOGY */
        .lyrics-content {
            background-color: var(--lyrics-bg);
            color: var(--light-text);
            padding: 0 20px; 
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid var(--main-neon);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), padding 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); 
        }

        .lyrics-content.open {
            max-height: 2000px; 
            padding: 20px; 
        }

        .lyrics-content p {
            margin: 0;
            margin-bottom: 1em;
            font-size: 0.9em;
            text-align: left !important;
            white-space: pre-wrap; 
            word-break: break-word; 
        }
        
        .lyrics-content .author-sign {
            text-align: right !important; 
            color: var(--secondary-neon);
            font-style: italic;
            margin-top: 15px;
        }

        /* üìß KONTAKT FORMASY */
        .contact-section {
            background-color: var(--player-bg);
            border: 2px solid var(--secondary-neon);
            box-shadow: 0 0 15px rgba(255, 0, 255, 0.8);
            border-radius: 12px;
            padding: 25px;
            margin-top: 40px;
        }

        .contact-section h2 {
            font-family: 'Orbitron', sans-serif;
            color: var(--secondary-neon);
            text-align: center;
            margin-bottom: 25px;
            text-shadow: 0 0 5px var(--secondary-neon);
        }

        /* =============================================== */
        /* –ñ–ê“¢–ê –§–£–ù–ö–¶–ò–û–ù–ê–õ–î–´“ö –ñ–ê“¢–ê–†–¢–£–õ–ê–† –°–¢–ò–õ–¨–î–ï–†–Ü */
        /* =============================================== */
        
        /* –†–µ–∂–∏–º–¥–µ—Ä –∂”ô–Ω–µ –±–∞–ø—Ç–∞—É–ª–∞—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ */
        .features-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .feature-card {
            background-color: var(--player-bg);
            border: 1px solid var(--main-neon);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        
        .feature-title {
            font-family: 'Orbitron', sans-serif;
            color: var(--main-neon);
            font-size: 1.2em;
            margin-bottom: 15px;
            text-shadow: var(--neon-shadow-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-title i {
            font-size: 1.1em;
        }
        
        /* –†–µ–∂–∏–º–¥–µ—Ä —Ç–æ–±—ã */
        .mode-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .mode-btn {
            background-color: rgba(0, 255, 255, 0.1);
            border: 1px solid var(--main-neon);
            color: var(--light-text);
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9em;
        }
        
        .mode-btn:hover {
            background-color: rgba(0, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .mode-btn.active {
            background-color: var(--main-neon);
            color: var(--dark-bg);
            font-weight: bold;
            box-shadow: 0 0 10px var(--main-neon);
        }
        
        /* –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è */
        .speed-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .speed-btn {
            background-color: rgba(255, 0, 255, 0.1);
            border: 1px solid var(--secondary-neon);
            color: var(--light-text);
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9em;
        }
        
        .speed-btn:hover {
            background-color: rgba(255, 0, 255, 0.2);
        }
        
        .speed-btn.active {
            background-color: var(--secondary-neon);
            color: var(--dark-bg);
            font-weight: bold;
            box-shadow: 0 0 10px var(--secondary-neon);
        }
        
        /* –≠–∫–≤–∞–ª–∞–π–∑–µ—Ä */
        .eq-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
        }
        
        .eq-preset-btn {
            background-color: rgba(0, 255, 255, 0.05);
            border: 1px solid var(--main-neon);
            color: var(--light-text);
            padding: 10px 5px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.85em;
            text-align: center;
        }
        
        .eq-preset-btn:hover {
            background-color: rgba(0, 255, 255, 0.15);
        }
        
        .eq-preset-btn.active {
            background-color: var(--main-neon);
            color: var(--dark-bg);
            font-weight: bold;
            box-shadow: 0 0 8px var(--main-neon);
        }
        
        /* –ò–∑–±—Ä–∞–Ω–Ω–æ–µ */
        .favorite-btn {
            background: none;
            border: none;
            color: var(--light-text);
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.2s ease;
            padding: 5px;
        }
        
        .favorite-btn:hover {
            transform: scale(1.1);
        }
        
        .favorite-btn.favorited {
            color: var(--secondary-neon);
            text-shadow: 0 0 10px var(--secondary-neon);
        }
        
        .favorite-btn-main {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5em;
            color: var(--light-text);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .favorite-btn-main.favorited {
            color: var(--secondary-neon);
            text-shadow: 0 0 15px var(--secondary-neon);
        }
        
        /* –ü–ª–µ–π–ª–∏—Å—Ç "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è" */
        .favorites-playlist {
            margin-top: 30px;
            display: none;
        }
        
        .favorites-playlist.show {
            display: block;
        }
        
        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .tab-btn {
            background-color: var(--player-bg);
            border: 1px solid var(--main-neon);
            color: var(--light-text);
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1em;
        }
        
        .tab-btn:hover {
            background-color: rgba(0, 255, 255, 0.1);
        }
        
        .tab-btn.active {
            background-color: var(--main-neon);
            color: var(--dark-bg);
            font-weight: bold;
            box-shadow: 0 0 10px var(--main-neon);
        }
        
        /* üì± MOBILDIK BEIIMDILIK */
        @media (max-width: 768px) {
            .item-actions {
                width: 100%;
                justify-content: flex-end; 
                margin-top: 10px;
            }
            .time-display {
                width: 40px; 
            }
            .controls {
                gap: 10px;
            }
            .mode-group, .speed-group {
                justify-content: center;
            }
            .eq-group {
                grid-template-columns: repeat(2, 1fr);
            }
            .tab-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    
    <div class="container">
        <a href="index.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Artqa Qaƒ±t√Ω (Negizgi Bet)
        </a>

        <div class="header">
            <h1>A√Ωdƒ±o √ìle≈Ñder Pleƒ±eri</h1>
        </div>
        
        <div class="main-player-card">
            <span class="favorite-btn-main" id="main-favorite-btn" onclick="toggleFavorite()"><i class="far fa-heart"></i></span>
            
            <div class="cover-art">
                <img id="track-cover" src="" alt="Track Cover" style="display: none;">
                <i id="default-icon" class="fas fa-wave-square"></i>
            </div>
            
            <h2 id="current-track-title">Trekti ta≈Ñda≈Ñyz</h2>
            
            <audio id="global-audio-player" src="" preload="metadata"></audio>
            
            <div class="progress-container">
                <span id="current-time" class="time-display">0:00</span>
                <input type="range" id="progress-bar" value="0" min="0" max="100" step="0.1">
                <span id="duration" class="time-display">0:00</span>
            </div>
            
            <div class="volume-container">
                <i class="fas fa-volume-down"></i>
                <input type="range" id="volume-slider" min="0" max="1" step="0.05" value="1">
                <i class="fas fa-volume-up"></i>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="playPrevious()"><i class="fas fa-step-backward"></i></button>
                <button class="control-btn" onclick="skipTime(-10)"><i class="fas fa-backward"></i></button>
                <button class="control-btn main-play" id="main-play-btn" onclick="togglePlay()">
                    <i class="fas fa-play"></i>
                </button>
                <button class="control-btn" onclick="skipTime(10)"><i class="fas fa-forward"></i></button>
                <button class="control-btn" onclick="playNext()"><i class="fas fa-step-forward"></i></button>
            </div>
        </div>
        
        <!-- =============================================== -->
        <!-- –ñ–ê“¢–ê –§–£–ù–ö–¶–ò–û–ù–ê–õ–î–´“ö –ë”®–õ–Ü–ú -->
        <!-- =============================================== -->
        
        <div class="features-container">
            <!-- –†–µ–∂–∏–º—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è -->
            <div class="feature-card">
                <h3 class="feature-title"><i class="fas fa-sync-alt"></i> Oinat√Ω Rejimderi</h3>
                <div class="mode-group">
                    <button class="mode-btn" data-mode="normal" onclick="setPlayMode('normal')">
                        <i class="fas fa-list"></i> Qarap√Ωly T√°rtip
                    </button>
                    <button class="mode-btn active" data-mode="loop-one" onclick="setPlayMode('loop-one')">
                        <i class="fas fa-redo"></i> Trekti Qaƒ±tala√Ω
                    </button>
                    <button class="mode-btn" data-mode="loop-all" onclick="setPlayMode('loop-all')">
                        <i class="fas fa-infinity"></i> P√∫tƒ±n Pleilistti Qaƒ±tala√Ω
                    </button>
                    <button class="mode-btn" data-mode="shuffle" onclick="setPlayMode('shuffle')">
                        <i class="fas fa-random"></i> Keze≈Ñ T√°rtip
                    </button>
                    <button class="mode-btn" data-mode="radio" onclick="setPlayMode('radio')">
                        <i class="fas fa-radio"></i> Radio Rejimi
                    </button>
                </div>
            </div>
            
            <!-- –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è -->
            <div class="feature-card">
                <h3 class="feature-title"><i class="fas fa-tachometer-alt"></i> Oinat√Ω Jƒ±ldamdy«µy</h3>
                <div class="speed-group">
                    <button class="speed-btn" data-speed="0.5" onclick="setPlaybackSpeed(0.5)">0.5x</button>
                    <button class="speed-btn" data-speed="0.75" onclick="setPlaybackSpeed(0.75)">0.75x</button>
                    <button class="speed-btn active" data-speed="1" onclick="setPlaybackSpeed(1)">1x (Qalyp)</button>
                    <button class="speed-btn" data-speed="1.25" onclick="setPlaybackSpeed(1.25)">1.25x</button>
                    <button class="speed-btn" data-speed="1.5" onclick="setPlaybackSpeed(1.5)">1.5x</button>
                </div>
            </div>
            
            <!-- –≠–∫–≤–∞–ª–∞–π–∑–µ—Ä -->
            <div class="feature-card">
                <h3 class="feature-title"><i class="fas fa-sliders-h"></i> Ekvalaizer (Presetter)</h3>
                <div class="eq-group">
                    <button class="eq-preset-btn" data-preset="flat" onclick="setEqualizer('flat')">
                        <i class="fas fa-wave-square"></i> Qalyp
                    </button>
                    <button class="eq-preset-btn" data-preset="pop" onclick="setEqualizer('pop')">
                        <i class="fas fa-guitar"></i> Pop
                    </button>
                    <button class="eq-preset-btn" data-preset="rock" onclick="setEqualizer('rock')">
                        <i class="fas fa-drum"></i> Rok
                    </button>
                    <button class="eq-preset-btn" data-preset="bass" onclick="setEqualizer('bass')">
                        <i class="fas fa-volume-up"></i> Bas
                    </button>
                    <button class="eq-preset-btn" data-preset="treble" onclick="setEqualizer('treble')">
                        <i class="fas fa-volume-down"></i> Jasyl√Ω
                    </button>
                    <button class="eq-preset-btn" data-preset="vocal" onclick="setEqualizer('vocal')">
                        <i class="fas fa-microphone"></i> Vokal
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –¢–∞–±—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ -->
        <div class="tab-buttons">
            <button class="tab-btn active" onclick="showPlaylist('main')">
                <i class="fas fa-list"></i> Negizgi Pleilist
            </button>
            <button class="tab-btn" onclick="showPlaylist('favorites')">
                <i class="fas fa-heart"></i> Ma«µan Unad√Ω ( <span id="favorites-count">0</span> )
            </button>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –ø–ª–µ–π–ª–∏—Å—Ç -->
        <div class="playlist" id="main-playlist">
            <p class="playlist-title">√ìle≈Ñder Tizimi:</p>

            <div class="search-container">
                <input type="text" id="playlist-search" placeholder="√ìle≈Ñ ata√Ωyn izdew..." onkeyup="filterPlaylist()">
                <i class="fas fa-search search-icon"></i>
            </div>
            
            <div class="playlist-item" data-index="0" data-title="Orta j√∫z">
                <div class="item-info">
                    <i class="fas fa-music"></i>
                    <span>1. Orta j√∫z</span>
                </div>
                <div class="item-actions">
                    <button class="favorite-btn" onclick="toggleFavoriteItem(0, event)">
                        <i class="far fa-heart"></i>
                    </button>
                    <span class="item-duration">0:00</span>
                </div>
            </div>
            
            <div class="playlist-item" data-index="1" data-title="Jaryl«µap batyr">
                <div class="item-info">
                    <i class="fas fa-music"></i>
                    <span>2. Jaryl«µap batyr</span>
                </div>
                <div class="item-actions">
                    <button class="favorite-btn" onclick="toggleFavoriteItem(1, event)">
                        <i class="far fa-heart"></i>
                    </button>
                    <span class="item-duration">0:00</span>
                    <button class="lyrics-toggle-btn" data-lyrics-index="1" onclick="toggleLyrics(this)">M√°tin</button>
                </div>
                <div class="lyrics-content" id="lyrics-1">
                    <p>
                        Qazaqty≈Ñ uly aty ‚Äì Qaraker–µƒ± urany,
                        Jo≈Ñ«µar shapqynshyly«µynda tasqa basqan murany.
                        K√≥kj–∞ld–∞ƒ± √≥rsh—ñl ruhbty, –µs—ñm—ñ ‚Äì J–∞r—Él«µ–∞p,
                        Qyr—Éq j–ær—Éq, q–∞ndy urys ‚Äì t–∞rƒ±hynd–∞ –∞nyz b–æp q–∞l«µ–∞n.

                        Buq–∞r jyr–∞u t–æl«µ–∞«µ–∞n: "–ö–µrn–µƒ±d–µ ‚Äì J–∞r—Él«µ–∞p!"
                        –¢u ust–∞«µ–∞n b–∞tyr d–µp, q–∞t–∞r—Én–∞n q–∞ldyrm–∞«µan b–∞«µ–∞l–∞p.
                        Q–∞b–∞nb–∞ƒ±, B√≥g–µnb–∞ƒ±m–µn b—ñrg–µ q–∞nyn t√≥–∫–∫–µn,
                        Q–∞s b–∞tyrd—É≈Ñ q–∞d—ñr—ñn Q–∞z–∞q –µl—ñ s–µp–∫–µn.
                        –ûn –∞lty j–∞synd–∞ Q–∞zyb–µ–∫ b—ñd–µn b–∞t–∞ –∞l«µ–∞n,
                        "–¢–∞rh–∞n" –∞t–∞«µyn Qyt–∞ƒ±d–∞n d–∞ –∞l—Ép t–∞≈Ñ«µ–∞ltq–∞n.
                        Bul ‚Äì –∞nyz –µm–µs, j–∞z—Él«µ–∞n t–∞rƒ±h—ñ d–µr–µ–∫,
                        –ïrl—ñg—ñ ‚Äì √∫l–∫–µn d–∞l–∞n—É≈Ñ j–∞dynd–∞ tur«µ–∞n t—ñr–µ–∫.

                        J–∞r—Él«µ–∞p! J–∞r—Él«µ–∞p! Q–∞ndy j–ær—Éqt–∞rd–∞«µ—É t–µm—ñr!
                        Q–∞lb–∞-Sh–∞«µ–∞n sh–∞ƒ±q–∞synd–∞ j–µ≈Ñd—ñ –∫–µb—ñn q–∞lm–∞qty s–∞l—Ép √≥m—ñr.
                        –ûl ‚Äì N–∞ƒ±m–∞nn—É≈Ñ nur—É, ruhby b—ñƒ±—ñ–∫, –∞qul—É d–∞ d–∞n–∞,
                        –êru–∞«µ—É q–∞r–∞ b√∫rk—ñt b–æp, q–æl b–∞st–∞«µ–∞n d–∞r–∞!

                        –êƒ±l–∞sy –∞sq–∞n b–∞tyr, t–µ–∫ q–∞n–∞ –∫√∫shb–µn –µm–µs,
                        –êb—Él–∞ƒ± h–∞nn—É≈Ñ q–∞synd–∞ –∞qul«µ–∞ s–∞l—Ép —ñst–µg–µn.
                        H–∞nt–∞u j–ær—É«µ—Énd–∞ B–µtb–∞q –∞rqul—É q–æl b–∞st–∞p,
                        Q–ænt–∞ƒ±sh—Én—É q–ærsh–∞p, q–∞z–∞qq–∞ –∫–µlt—ñrg–µn b–æst–∞nd—Éq.
                        B–∞ƒ±«µ–æzy b–∞tyrm–µn b—ñrg–µ, b–∞rl–∞ush—É b–æp –∞ld–∞ j√∫rg–µn,
                        "–ö√≥zg–µ t√∫sb–µƒ±, sh√≥ld–µtb–µƒ±" ‚Äì d–µp, –µ–∫—ñ –∫–µp—ñld—ñ–∫ b–µrg–µn.
                        Bul ‚Äì J–∞r—Él«µ–∞pt—É≈Ñ √°s–∫–µr—ñ t–∞ktƒ±k–∞sy,
                        Q–∞ƒ±r–∞t p–µn –∞quld—É ust–∞styr«µ–∞n n–∞«µyz s–∞qshysy.

                        –ïnd—ñ b—ñl! S–µn—ñ≈Ñ t–µg—ñ≈Ñd–µ –æsynd–∞ƒ± –∫√≥–∫j–∞l b–∞r!
                        Q–∞r–∞–∫–µ t–∞myrynn–∞n √≥s—ñp-√≥ng–µn √∫lg—ñ –∞l–∞r.
                        –ûnn—É≈Ñ √°r–±—ñr –µrl—ñg—ñ ‚Äì urp–∞qq–∞ √≥shb–µs mur–∞,
                        J–∞r—Él«µ–∞p b–∞tyrd—É b—ñl√Ω ‚Äì q–∞z–∞qq–∞ ul—É sh–∞r–∞!

                        –ïs—ñm—ñ≈Ñ—ñd—ñ –∞ƒ±t—Ép, ur–∞n—É≈Ñd—É sh–∞qur–∞m—Éz,
                        J–∞r—Él«µ–∞p ruhby ‚Äì b—ñzd—ñ≈Ñ m√°≈Ñg—ñl—ñ–∫ –∞s—Él n–∞m—Ésymyz!
                        Uly d–∞l–∞n—É≈Ñ d–∞≈Ñqun, Q–∞r–∞–∫–µr–µƒ±d—ñ≈Ñ q–∞haryn,
                        Um—Éttyrm–∞ƒ± j–∞l«µ–∞styr—É ‚Äì b—ñzd—ñ≈Ñ p–∞ryzymyz!
                    </p>
                    <p class="author-sign">~ Qabykenov Sa«µynysh</p>
                </div>
            </div>
            
            <div class="playlist-item" data-index="2" data-title="Tegimni≈Ñ r√Ωhy">
                <div class="item-info">
                    <i class="fas fa-music"></i>
                    <span>3. Tegimni≈Ñ r√Ωhy</span>
                </div>
                <div class="item-actions">
                    <button class="favorite-btn" onclick="toggleFavoriteItem(2, event)">
                        <i class="far fa-heart"></i>
                    </button>
                    <span class="item-duration">0:00</span>
                    <button class="lyrics-toggle-btn" data-lyrics-index="2" onclick="toggleLyrics(this)">M√°tin</button>
                </div>
                <div class="lyrics-content" id="lyrics-2">
                    <p>
                        Qazaqpyz, tamyr√Ωymyz ‚Äì Alashtan n√°r al«µan,
                        √ösh j√∫zge b√≥lingen uly dalam, sary alqam.
                        Meni≈Ñ tegim ‚Äì Orta j√∫z, aƒ±byndy naƒ±zasy,
                        Jarq etken jalyndy j√∫rek, qazaqty≈Ñ dara uly!
                        Uranym ‚Äì Qapta«µaƒ±, t√≥bemde tur«µan t√Ω,
                        Men Naƒ±man Qaraker–µƒ±, tegimdi tanyp u«µ√Ω.
                        Tizbegim on alty ata, k–µr√Ωend–µƒ± sozyl«µan,
                        √ìmirg–µ j–∞l«µasyp, k√≥–∫jƒ±–µkt–µn –æzyl«µ–∞n!

                        –ï≈Ñ –∞l«µ–∞sh ‚Äì B–∞ƒ±t–ær—É, t–∞rƒ±hty≈Ñ t–µr–µ≈Ñ—ñnd–µ,
                        –ö–µl–µd—ñ ‚Äì –êƒ±ram, uly —ñs—ñm–µn –µl—ñnd–µ.
                        S–æsyn ‚Äì J–∞nqul—É, t–∞sq–∞ b–∞sq–∞n m√≥r—ñ,
                        Q–æj–∞mb–µt, –êƒ±t ‚Äì urp–∞qty≈Ñ b—ñƒ±—ñ–∫ t√≥r—ñ.
                        –ûd–∞n s–æ≈Ñ ‚Äì J√°lm–µmb–µt, √°d—ñld—ñk ur–∞n—É,
                        Qudys p–µn B–∞ƒ±sh–ær–∞, sh–µj—ñr–µn—ñ≈Ñ qur–∞n—É.

                        –êr–∞d–∞ j–∞rq –µtk–µn J–∞r—Él«µ–∞p b–∞tyr –∞t–∞m ‚Äì
                        Q–∞z–∞qty≈Ñ n–∞m—Ésy √∫sh—ñn qyl—Éshyn s—ñlt–µg–µn.
                        –ïs—ñm—ñ –µld—ñ≈Ñ –∞—Éz—Énd–∞, d–∞st–∞nd–∞r«µ–∞ –∞rq–∞u,
                        –ûsy t–µ–∫t—ñ j–∞l«µ–∞styr—É ‚Äì m–µn—ñ≈Ñ ul—É –∞ntym!

                        Shuqyn, √ö–∫—ñ, Q–æn–∞rb–∞ƒ± ‚Äì t–∞rƒ±hty≈Ñ –∫–µz–µ≈Ñ—ñ,
                        R–∞m–∞z–∞n ‚Äì —ñz q–∞ldyr«µ–∞n √≥m—ñrd—ñ≈Ñ √≥z–µg—ñ.
                        –êt–∞m ‚Äì Q–∞by–∫–µn, –∞qylshym, t—ñr–µu—ñm,
                        √Å–∫–µm ‚Äì T√≥r–µ«µ–∞lƒ±, –µrl—ñ–∫p–µn j√∫r–µm—ñn.
                        Q–∞z—ñrg—ñ k√∫n ‚Äì N–∞ƒ±m–∞nn—É≈Ñ q–æs q–∞n–∞ty,
                        √Å–∫–µmn—ñ≈Ñ j–∞l«µasy, –µk—ñ ul—Én—É≈Ñ t–∞l–∞b—É.
                        Qu–∞nysh ‚Äì √∫l–∫–µn—ñm, t–µg—ñn b—ñlg–µn p–∞r–∞s–∞t,
                        –êl m–µn ‚Äì S–∞«µyn—Ésh, ruhby k√≥–∫k–µ q–∞r–∞t!

                        M–µn ‚Äì t–µ–∫ q–∞n–∞ b—ñr –∞d–∞m –µm–µs, b—ñr t–∞rƒ±hpyn,
                        –êt–∞mn—É≈Ñ –∞m–∞n–∞tyn, b–∞tyrd—É≈Ñ –∞ƒ±b—Én—Én s–∞qt–∞ƒ±m—Én.
                        N–∞ƒ±m–∞n Q–∞r–∞–∫–µr–µƒ± urp–∞«µ—É, m–∞qt–∞n—Éshym ‚Äì t–µg—ñ,
                        J–µt—ñ –∞t–∞md—É –∞ƒ±tu ‚Äì m–µn—ñ≈Ñ DNA-k–ædym!
                    </p>
                    <p class="author-sign">~ Qabykenov Sa«µynysh</p>
                </div>
            </div>
        </div>
        
        <!-- –ü–ª–µ–π–ª–∏—Å—Ç "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è" -->
        <div class="favorites-playlist" id="favorites-playlist">
            <p class="playlist-title"><i class="fas fa-heart"></i> Ma«µan Unad√Ω Trekter:</p>
            <div id="favorites-list">
                <!-- –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—é–¥–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <p id="no-favorites-message" style="text-align: center; color: #aaa; padding: 20px; display: none;">
                <i class="far fa-heart"></i><br>
                H√°zirshe "Ma«µan Unad√Ω" pleilistƒ± b–æs. Trekterge <i class="fas fa-heart"></i> betinshe belgisin basyp q–æs√Ω«µyz.
            </p>
        </div>

        <div class="contact-section">
            <h2><i class="fas fa-envelope"></i> Bizben Baƒ±lanys</h2>
            
            <form action="https://formspree.io/f/Huperforma@gmail.com" method="POST">
                <div class="form-group">
                    <label for="name">Aty-J√≥ni≈Ñiz:</label>
                    <input type="text" id="name" name="Aty-J√≥ni" required>
                </div>
                <div class="form-group">
                    <label for="email">E-mail:</label>
                    <input type="email" id="email" name="E-mail" required>
                </div>
                <div class="form-group">
                    <label for="message">Xabar:</label>
                    <textarea id="message" name="Xabar" rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-btn">Xabardy Jiber√Ω</button>
            </form>
            <p style="text-align: center; font-size: 0.8em; margin-top: 15px; color: #aaa;">
                Xabarlar **Huperforma@gmail.com** pochtasyna Formspree arqyly jiberiledi.
            </p>
        </div>
        </div>

    <script>
        // ===================================================
        // A√ùDIO PLEER J√ÅNE PROGRESS JOLA«¥Y FUNKSIYALARY
        // ===================================================

        const audioPlayer = document.getElementById('global-audio-player');
        const playBtn = document.getElementById('main-play-btn');
        const playIcon = playBtn.querySelector('i');
        const playlistItems = document.querySelectorAll('.playlist-item');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeDisplay = document.getElementById('current-time');
        const durationDisplay = document.getElementById('duration');
        const trackTitleDisplay = document.getElementById('current-track-title');
        const coverImage = document.getElementById('track-cover');
        const defaultIcon = document.getElementById('default-icon');
        const volumeSlider = document.getElementById('volume-slider');

        // ===================================================
        // –ñ–ê“¢–ê –ê–ô–ù–´–ú–ê–õ–´–õ–ê–†
        // ===================================================
        
        let currentTrackIndex = -1;
        let playMode = 'loop-one'; // normal, loop-one, loop-all, shuffle, radio
        let playbackSpeed = 1.0;
        let equalizerPreset = 'flat'; // flat, pop, rock, bass, treble, vocal
        let favorites = JSON.parse(localStorage.getItem('audioPlayerFavorites')) || [];
        let shuffleHistory = [];
        let radioHistory = [];
        
        const tracks = [
            { title: "1. Orta j√∫z", src: "orta_juz_audio.mp3", cover: "orta_juz.jpg", id: 0 }, 
            { title: "2. Jaryl«µap batyr", src: "jarylgap_batyr_audio.mp3", cover: "jarylgap_batyr.jpg", id: 1 }, 
            { title: "3. Tegimni≈Ñ r√Ωhy", src: "tegimnin_ruhy_audio.mp3", cover: "tegimnin_ruhy.jpg", id: 2 } 
        ];

        /**
         * –£–∞“õ—ã—Ç—Ç—ã (—Å–µ–∫—É–Ω–¥) "–ú:–°–°" —Ñ–æ—Ä–º–∞—Ç—ã–Ω–∞ —Ç“Ø—Ä–ª–µ–Ω–¥—ñ—Ä–µ–¥—ñ.
         */
        function formatTime(seconds) {
            if (isNaN(seconds)) return "0:00";
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }

        /**
         * Progress bar-–¥—ã“£ —Å—Ç–∏–ª—ñ–Ω (–±–æ—è–ª“ì–∞–Ω –±”©–ª—ñ–≥—ñ–Ω) –∂–∞“£–∞—Ä—Ç–∞–¥—ã.
         */
        function updateProgressStyle(percent) {
            progressBar.style.background = `linear-gradient(to right, var(--secondary-neon) ${percent}%, rgba(255, 255, 255, 0.1) ${percent}%)`;
        }

        /**
         * –ñ–∞“£–∞ —Ç—Ä–µ–∫—Ç—ñ –∂“Ø–∫—Ç–µ–π–¥—ñ –∂”ô–Ω–µ –æ–π–Ω–∞—Ç—É“ì–∞ –¥–∞–π—ã–Ω–¥–∞–π–¥—ã.
         */
        function loadTrack(index) {
            if (index < 0 || index >= tracks.length) return;

            const isSameTrack = index === currentTrackIndex;
            
            if (isSameTrack && audioPlayer.src) {
                togglePlay();
                return;
            }
            
            currentTrackIndex = index;
            const track = tracks[index];

            // 1. –ü–ª–µ–µ—Ä–¥—ñ –∂–∞“£–∞—Ä—Ç—É
            trackTitleDisplay.textContent = track.title;
            audioPlayer.src = track.src;
            audioPlayer.load();

            // 2. –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
            audioPlayer.playbackRate = playbackSpeed;
            
            // 3. –û–±–ª–æ–∂–∫–∞–Ω—ã –∂–∞“£–∞—Ä—Ç—É
            coverImage.src = track.cover;
            coverImage.style.display = 'block'; 
            defaultIcon.style.display = 'none'; 
            coverImage.classList.remove('active');

            // 4. –ö–ª–∞—Å—Ç–∞—Ä–¥—ã –∂–∞“£–∞—Ä—Ç—É
            playlistItems.forEach(item => item.classList.remove('playing'));
            playlistItems[index].classList.add('playing');
            
            // 5. –ò–∑–±—Ä–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
            updateFavoriteButton();

            // 6. –û–π–Ω–∞—Ç—É 
            const playPromise = audioPlayer.play();
            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    playIcon.className = 'fas fa-pause';
                    coverImage.classList.add('active');
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é –¥–ª—è —Ä–µ–∂–∏–º–æ–≤ shuffle –∏ radio
                    if (playMode === 'shuffle' && !shuffleHistory.includes(index)) {
                        shuffleHistory.push(index);
                    }
                    
                    if (playMode === 'radio' && !radioHistory.includes(index)) {
                        radioHistory.push(index);
                        // –ï—Å–ª–∏ –≤—Å–µ —Ç—Ä–µ–∫–∏ –ø—Ä–æ–∏–≥—Ä–∞–Ω—ã, –æ—á–∏—â–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é
                        if (radioHistory.length >= tracks.length) {
                            radioHistory = [];
                        }
                    }
                }).catch(error => {
                    playIcon.className = 'fas fa-play';
                    console.error("Autoplay blocked:", error);
                });
            }
        }

        /**
         * –û–π–Ω–∞—Ç—É –º–µ–Ω –∫—ñ–¥—ñ—Ä—Ç—É–¥—ñ –∞—É—ã—Å—Ç—ã—Ä–∞–¥—ã.
         */
        function togglePlay() {
            if (currentTrackIndex === -1) {
                loadTrack(0);
                return;
            }
            
            if (audioPlayer.paused) {
                audioPlayer.play();
                playIcon.className = 'fas fa-pause';
                coverImage.classList.add('active');
            } else {
                audioPlayer.pause();
                playIcon.className = 'fas fa-play';
                coverImage.classList.remove('active');
            }
        }

        /**
         * –ö–µ–ª–µ—Å—ñ —Ç—Ä–µ–∫–∫–µ ”©—Ç–µ–¥—ñ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞.
         */
        function playNext() {
            let nextIndex;
            
            switch (playMode) {
                case 'normal':
                    nextIndex = currentTrackIndex + 1;
                    if (nextIndex >= tracks.length) {
                        // –í –∫–æ–Ω—Ü–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è
                        audioPlayer.pause();
                        playIcon.className = 'fas fa-play';
                        coverImage.classList.remove('active');
                        return;
                    }
                    break;
                    
                case 'loop-one':
                    // –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–∫
                    audioPlayer.currentTime = 0;
                    audioPlayer.play();
                    return;
                    
                case 'loop-all':
                    nextIndex = (currentTrackIndex + 1) % tracks.length;
                    break;
                    
                case 'shuffle':
                    // –ü–æ–ª—É—á–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –∏–Ω–¥–µ–∫—Å, –∏—Å–∫–ª—é—á–∞—è —Ç–µ–∫—É—â–∏–π
                    let availableIndices = [];
                    for (let i = 0; i < tracks.length; i++) {
                        if (i !== currentTrackIndex) availableIndices.push(i);
                    }
                    
                    // –ï—Å–ª–∏ –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∞, –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–Ω–æ–≤–æ
                    if (shuffleHistory.length >= tracks.length - 1) {
                        shuffleHistory = [];
                    }
                    
                    // –ò—Å–∫–ª—é—á–∞–µ–º —Ç—Ä–µ–∫–∏ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
                    availableIndices = availableIndices.filter(i => !shuffleHistory.includes(i));
                    
                    if (availableIndices.length === 0) {
                        // –ï—Å–ª–∏ –≤—Å–µ —Ç—Ä–µ–∫–∏ —É–∂–µ –±—ã–ª–∏, –≤—ã–±–∏—Ä–∞–µ–º –ª—é–±–æ–π
                        nextIndex = Math.floor(Math.random() * (tracks.length - 1));
                        if (nextIndex >= currentTrackIndex) nextIndex++;
                        shuffleHistory = [currentTrackIndex];
                    } else {
                        nextIndex = availableIndices[Math.floor(Math.random() * availableIndices.length)];
                    }
                    break;
                    
                case 'radio':
                    // –†–µ–∂–∏–º —Ä–∞–¥–∏–æ: —Å–ª—É—á–∞–π–Ω—ã–π —Ç—Ä–µ–∫, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ —Ç–µ–∫—É—â–∏–π
                    // –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –ø—Ä–æ—Å—Ç–æ —Å–ª—É—á–∞–π–Ω—ã–π
                    let radioIndices = [];
                    for (let i = 0; i < tracks.length; i++) {
                        if (i !== currentTrackIndex && !radioHistory.includes(i)) {
                            radioIndices.push(i);
                        }
                    }
                    
                    if (radioIndices.length === 0) {
                        // –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–∏–≥—Ä–∞–ª–∏, –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π
                        nextIndex = Math.floor(Math.random() * tracks.length);
                        radioHistory = [];
                    } else {
                        nextIndex = radioIndices[Math.floor(Math.random() * radioIndices.length)];
                    }
                    break;
                    
                default:
                    nextIndex = (currentTrackIndex + 1) % tracks.length;
            }
            
            loadTrack(nextIndex);
        }

        /**
         * –ê–ª–¥—ã“£“ì—ã —Ç—Ä–µ–∫–∫–µ ”©—Ç–µ–¥—ñ.
         */
        function playPrevious() {
            if (audioPlayer.currentTime < 3 && currentTrackIndex > 0) {
                let prevIndex;
                
                if (playMode === 'shuffle') {
                    // –î–ª—è shuffle –±–µ—Ä–µ–º –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
                    if (shuffleHistory.length > 0) {
                        prevIndex = shuffleHistory.pop();
                    } else {
                        prevIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
                    }
                } else if (playMode === 'radio') {
                    // –î–ª—è radio –±–µ—Ä–µ–º –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
                    if (radioHistory.length > 0) {
                        prevIndex = radioHistory.pop();
                    } else {
                        prevIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
                    }
                } else {
                    prevIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
                }
                
                loadTrack(prevIndex);
            } else {
                audioPlayer.currentTime = 0;
            }
        }
        
        /**
         * –£–∞“õ—ã—Ç—Ç—ã –∞–ª“ì–∞ –Ω–µ–º–µ—Å–µ –∞—Ä—Ç“õ–∞ ”©—Ç–∫—ñ–∑–µ–¥—ñ.
         */
        function skipTime(time) {
            audioPlayer.currentTime += time;
        }

        // ===================================================
        // –ñ–ê“¢–ê –§–£–ù–ö–¶–ò–û–ù–ê–õ–î–´“ö –§–£–ù–ö–¶–ò–Ø–õ–ê–†
        // ===================================================
        
        /**
         * –†–µ–∂–∏–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.
         */
        function setPlayMode(mode) {
            playMode = mode;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.mode === mode) {
                    btn.classList.add('active');
                }
            });
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–µ–∂–∏–º–∞
            if (mode !== 'shuffle') shuffleHistory = [];
            if (mode !== 'radio') radioHistory = [];
            
            // –î–ª—è —Ä–µ–∂–∏–º–∞ loop-one —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ
            audioPlayer.loop = (mode === 'loop-one');
            
            console.log(`–†–µ–∂–∏–º –∏–∑–º–µ–Ω–µ–Ω –Ω–∞: ${mode}`);
        }
        
        /**
         * –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.
         */
        function setPlaybackSpeed(speed) {
            playbackSpeed = speed;
            audioPlayer.playbackRate = speed;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.speed-btn').forEach(btn => {
                btn.classList.remove('active');
                if (parseFloat(btn.dataset.speed) === speed) {
                    btn.classList.add('active');
                }
            });
            
            console.log(`–°–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: ${speed}x`);
        }
        
        /**
         * –≠–∫–≤–∞–ª–∞–π–∑–µ—Ä (—ç–º—É–ª–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ —Ñ–∏–ª—å—Ç—Ä—ã CSS –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞).
         */
        function setEqualizer(preset) {
            equalizerPreset = preset;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.eq-preset-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.preset === preset) {
                    btn.classList.add('active');
                }
            });
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —ç–∫–≤–∞–ª–∞–π–∑–µ—Ä–∞
            let filterValue = '';
            
            switch(preset) {
                case 'pop':
                    filterValue = 'brightness(1.1) contrast(1.1) saturate(1.2)';
                    break;
                case 'rock':
                    filterValue = 'brightness(1.05) contrast(1.15) saturate(1.1)';
                    break;
                case 'bass':
                    filterValue = 'brightness(0.95) contrast(1.2) saturate(0.9)';
                    break;
                case 'treble':
                    filterValue = 'brightness(1.2) contrast(1.1) saturate(1.3)';
                    break;
                case 'vocal':
                    filterValue = 'brightness(1.15) contrast(1.05) saturate(1.1)';
                    break;
                case 'flat':
                default:
                    filterValue = 'none';
            }
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä –∫ –æ–±–ª–æ–∂–∫–µ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
            coverImage.style.filter = filterValue;
            
            // –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–≤—É–∫ —á–µ—Ä–µ–∑ Web Audio API, –Ω–æ —ç—Ç–æ —Å–ª–æ–∂–Ω–µ–µ
            // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
            
            console.log(`–≠–∫–≤–∞–ª–∞–π–∑–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞: ${preset}`);
        }
        
        /**
         * –ò–∑–±—Ä–∞–Ω–Ω–æ–µ: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞.
         */
        function toggleFavorite() {
            if (currentTrackIndex === -1) return;
            
            const trackId = tracks[currentTrackIndex].id;
            const index = favorites.indexOf(trackId);
            
            if (index === -1) {
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
                favorites.push(trackId);
            } else {
                // –£–¥–∞–ª—è–µ–º –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
                favorites.splice(index, 1);
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('audioPlayerFavorites', JSON.stringify(favorites));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            updateFavoriteButton();
            updateFavoriteItems();
            updateFavoritesPlaylist();
            
            console.log(`–ò–∑–±—Ä–∞–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ: ${favorites}`);
        }
        
        /**
         * –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç—Ä–µ–∫–∞ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞.
         */
        function toggleFavoriteItem(trackIndex, event) {
            if (event) event.stopPropagation();
            
            const trackId = tracks[trackIndex].id;
            const index = favorites.indexOf(trackId);
            
            if (index === -1) {
                favorites.push(trackId);
            } else {
                favorites.splice(index, 1);
            }
            
            localStorage.setItem('audioPlayerFavorites', JSON.stringify(favorites));
            
            updateFavoriteButton();
            updateFavoriteItems();
            updateFavoritesPlaylist();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏
            const btn = event ? event.currentTarget : null;
            if (btn) {
                const icon = btn.querySelector('i');
                if (index === -1) {
                    icon.className = 'fas fa-heart';
                    btn.classList.add('favorited');
                } else {
                    icon.className = 'far fa-heart';
                    btn.classList.remove('favorited');
                }
            }
        }
        
        /**
         * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ.
         */
        function updateFavoriteButton() {
            if (currentTrackIndex === -1) return;
            
            const trackId = tracks[currentTrackIndex].id;
            const mainFavBtn = document.getElementById('main-favorite-btn');
            const icon = mainFavBtn.querySelector('i');
            
            if (favorites.includes(trackId)) {
                icon.className = 'fas fa-heart';
                mainFavBtn.classList.add('favorited');
            } else {
                icon.className = 'far fa-heart';
                mainFavBtn.classList.remove('favorited');
            }
        }
        
        /**
         * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –≤ –ø–ª–µ–π–ª–∏—Å—Ç–µ.
         */
        function updateFavoriteItems() {
            playlistItems.forEach(item => {
                const index = parseInt(item.dataset.index);
                const trackId = tracks[index].id;
                const favBtn = item.querySelector('.favorite-btn');
                
                if (favBtn) {
                    const icon = favBtn.querySelector('i');
                    if (favorites.includes(trackId)) {
                        icon.className = 'fas fa-heart';
                        favBtn.classList.add('favorited');
                    } else {
                        icon.className = 'far fa-heart';
                        favBtn.classList.remove('favorited');
                    }
                }
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö
            document.getElementById('favorites-count').textContent = favorites.length;
        }
        
        /**
         * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞ "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è".
         */
        function updateFavoritesPlaylist() {
            const favoritesList = document.getElementById('favorites-list');
            const noFavoritesMsg = document.getElementById('no-favorites-message');
            
            favoritesList.innerHTML = '';
            
            if (favorites.length === 0) {
                noFavoritesMsg.style.display = 'block';
                return;
            }
            
            noFavoritesMsg.style.display = 'none';
            
            favorites.forEach(trackId => {
                const track = tracks.find(t => t.id === trackId);
                if (!track) return;
                
                const index = track.id;
                const item = document.createElement('div');
                item.className = 'playlist-item';
                item.dataset.index = index;
                item.innerHTML = `
                    <div class="item-info">
                        <i class="fas fa-heart" style="color: var(--secondary-neon);"></i>
                        <span>${track.title}</span>
                    </div>
                    <div class="item-actions">
                        <button class="favorite-btn favorited" onclick="toggleFavoriteItem(${index}, event)">
                            <i class="fas fa-heart"></i>
                        </button>
                        <span class="item-duration">${getTrackDuration(index)}</span>
                        ${index === 1 || index === 2 ? `<button class="lyrics-toggle-btn" data-lyrics-index="${index}" onclick="toggleLyrics(this)">M√°tin</button>` : ''}
                    </div>
                    ${index === 1 || index === 2 ? `<div class="lyrics-content" id="favorites-lyrics-${index}" style="display: none;"></div>` : ''}
                `;
                
                favoritesList.appendChild(item);
                
                // –ö–æ–ø–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –ø–µ—Å–µ–Ω –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö
                if (index === 1 || index === 2) {
                    const originalLyrics = document.getElementById(`lyrics-${index}`);
                    if (originalLyrics) {
                        setTimeout(() => {
                            const favLyrics = document.getElementById(`favorites-lyrics-${index}`);
                            if (favLyrics) {
                                favLyrics.innerHTML = originalLyrics.innerHTML;
                            }
                        }, 100);
                    }
                }
            });
        }
        
        /**
         * –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–∫–∞.
         */
        function getTrackDuration(index) {
            if (index < 0 || index >= tracks.length) return "0:00";
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –Ω—É–∂–Ω–æ –±—ã–ª–æ –±—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
            // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è
            const durations = ["2:45", "3:20", "2:58"];
            return durations[index] || "0:00";
        }
        
        /**
         * –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º –∏ –∏–∑–±—Ä–∞–Ω–Ω—ã–º –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏.
         */
        function showPlaylist(type) {
            const mainPlaylist = document.getElementById('main-playlist');
            const favoritesPlaylist = document.getElementById('favorites-playlist');
            const tabButtons = document.querySelectorAll('.tab-btn');
            
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            if (type === 'main') {
                mainPlaylist.style.display = 'block';
                favoritesPlaylist.style.display = 'none';
                tabButtons[0].classList.add('active');
            } else {
                mainPlaylist.style.display = 'none';
                favoritesPlaylist.style.display = 'block';
                tabButtons[1].classList.add('active');
                updateFavoritesPlaylist();
            }
        }

        // ===================================================
        // –û“ö–ò“í–ê –¢–´“¢–î–ê–£–®–´–õ–ê–†–´ (EVENT LISTENERS)
        // ===================================================

        // 1. –ü–ª–µ–π–ª–∏—Å—Ç —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä—ñ–Ω –±–∞—Å—É
        playlistItems.forEach((item, index) => {
            item.addEventListener('click', (e) => {
                if (e.target.classList.contains('lyrics-toggle-btn') || 
                    e.target.classList.contains('favorite-btn') ||
                    e.target.closest('.favorite-btn')) {
                    return;
                }
                loadTrack(index);
            });
        });

        // 2. –ê—É–¥–∏–æ –∂“Ø–∫—Ç–µ–ª–≥–µ–Ω–¥–µ
        audioPlayer.addEventListener('loadedmetadata', () => {
            durationDisplay.textContent = formatTime(audioPlayer.duration);
            progressBar.max = audioPlayer.duration;
            
            if (currentTrackIndex !== -1) {
                const duration = formatTime(audioPlayer.duration);
                playlistItems[currentTrackIndex].querySelector('.item-duration').textContent = duration;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–∫–æ–≤ (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
                playlistItems.forEach((item, idx) => {
                    const durations = ["2:45", "3:20", "2:58"];
                    if (durations[idx]) {
                        item.querySelector('.item-duration').textContent = durations[idx];
                    }
                });
            }
        });

        // 3. –û–π–Ω–∞—Ç—É —É–∞“õ—ã—Ç—ã ”©–∑–≥–µ—Ä–≥–µ–Ω–¥–µ
        audioPlayer.addEventListener('timeupdate', () => {
            const currentTime = audioPlayer.currentTime;
            const duration = audioPlayer.duration;
            
            progressBar.value = currentTime;
            currentTimeDisplay.textContent = formatTime(currentTime);

            const progressPercent = (currentTime / duration) * 100;
            updateProgressStyle(progressPercent);
        });

        // 4. –¢—Ä–µ–∫ –∞—è“õ—Ç–∞–ª“ì–∞–Ω–¥–∞
        audioPlayer.addEventListener('ended', () => {
            if (playMode === 'loop-one') {
                // –î–ª—è —Ä–µ–∂–∏–º–∞ –ø–æ–≤—Ç–æ—Ä–∞ —Ç—Ä–µ–∫–∞ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
                audioPlayer.currentTime = 0;
                audioPlayer.play();
            } else {
                playNext();
            }
        });

        // 5. Progress bar
        progressBar.addEventListener('input', () => {
            audioPlayer.currentTime = progressBar.value;
        });
        
        // 6. –î—ã–±—ã—Å –¥–µ“£–≥–µ–π—ñ–Ω —Ä–µ—Ç—Ç–µ—É
        volumeSlider.addEventListener('input', () => {
             audioPlayer.volume = volumeSlider.value;
        });

        // 7. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        document.addEventListener('DOMContentLoaded', () => {
            updateFavoriteItems();
            updateFavoritesPlaylist();
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
            setPlayMode('loop-one');
            setPlaybackSpeed(1.0);
            setEqualizer('flat');
        });

        // ===================================================
        // üîç PLEILISTTI S√öZ√ù J√ÅNE üìú M√ÅTIN (LYRICS) FUNKSIYALARY
        // ===================================================

        function filterPlaylist() {
            const searchInput = document.getElementById('playlist-search').value.toLowerCase();
            
            playlistItems.forEach(item => {
                const titleElement = item.querySelector('.item-info span');
                if (titleElement) {
                    const title = titleElement.textContent.toLowerCase();
                    
                    if (title.includes(searchInput)) {
                        item.classList.remove('hidden'); 
                    } else {
                        item.classList.add('hidden'); 
                    }
                }
            });
        }

        function toggleLyrics(button) {
            const lyricsIndex = button.getAttribute('data-lyrics-index');
            let lyricsContent;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –≤ –∫–∞–∫–æ–º –ø–ª–µ–π–ª–∏—Å—Ç–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞
            const parentPlaylist = button.closest('.playlist') || button.closest('.favorites-playlist');
            if (parentPlaylist && parentPlaylist.id === 'favorites-playlist') {
                lyricsContent = document.getElementById(`favorites-lyrics-${lyricsIndex}`);
            } else {
                lyricsContent = document.getElementById(`lyrics-${lyricsIndex}`);
            }
            
            if (!lyricsContent) return;

            // –ë–∞—Å“õ–∞ –∞—à—ã“õ –º”ô—Ç—ñ–Ω–¥–µ—Ä–¥—ñ –∂–∞–±—É
            const allLyrics = document.querySelectorAll('.lyrics-content');
            allLyrics.forEach(content => {
                if (content !== lyricsContent && content.classList.contains('open')) {
                    content.classList.remove('open');
                    const parentItem = content.closest('.playlist-item');
                    if (parentItem) {
                        const otherButton = parentItem.querySelector('.lyrics-toggle-btn');
                        if (otherButton) otherButton.textContent = 'M√°tin';
                    }
                }
            });

            lyricsContent.classList.toggle('open');

            if (lyricsContent.classList.contains('open')) {
                button.textContent = 'Jab√Ω';
            } else {
                button.textContent = 'M√°tin';
            }
        }
        
        // –ë–∞—Å—Ç–∞–ø“õ—ã –∂“Ø–∫—Ç–µ—É –∫–µ–∑—ñ–Ω–¥–µ–≥—ñ progress bar-–¥—ã“£ –±–∞—Å—Ç–∞–ø“õ—ã —Å—Ç–∏–ª—ñ–Ω –æ—Ä–Ω–∞—Ç—É
        updateProgressStyle(0); 

        // –ë–∞—Å—Ç–∞–ø“õ—ã–¥–∞ –±—ñ—Ä—ñ–Ω—à—ñ —Ç—Ä–µ–∫—Ç—ñ“£ –∞—Ç—ã–Ω –∫”©—Ä—Å–µ—Ç—É
        if (tracks.length > 0) {
             trackTitleDisplay.textContent = tracks[0].title;
        }

    </script>

</body>
</html>