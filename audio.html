<!DOCTYPE html>
<html lang="kk-Latn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√öMIT | A√Ωdƒ±o Pleƒ±er (Neon)</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Montserrat:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="stylesheet" href="style.css"> 

</head>
<body>
    
    <div class="top-nav">
        <button class="icon-btn" onclick="openLanguageModal()"><i class="fas fa-language"></i></button>

        <div class="profile-section">
            <button class="icon-btn" id="profile-btn" onclick="toggleProfileDropdown()">
                <i class="fas fa-user-circle"></i>
            </button>
            
            <div class="profile-dropdown" id="profile-dropdown">
                <a href="#" class="profile-item" id="auth-link"><i class="fas fa-sign-in-alt"></i> Kir√Ω / Tirkel√Ω</a>
                <a href="#" class="profile-item" id="settings-link" style="display:none;"><i class="fas fa-cog"></i> Profil n√°str√≥ƒ±kalary</a>
                <a href="#" class="profile-item" id="logout-link" style="display:none;"><i class="fas fa-sign-out-alt"></i> Shƒ±«µ√Ω</a>
            </div>
        </div>
    </div>

    <div class="container">
        <a href="index.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Artqa Qaƒ±t√Ω (Negizgi Bet)
        </a>

        <div class="header">
            <h1>A√Ωdƒ±o √ìle≈Ñder Pleƒ±eri</h1>
        </div>
        
        <div class="main-player-card">
            <span class="favorite-btn-main" id="main-favorite-btn" onclick="toggleFavorite()"><i class="far fa-heart"></i></span>
            
            <div class="cover-art"><i class="fas fa-wave-square"></i></div>
            <h2 id="current-track-title">Trekti ta≈Ñda≈Ñyz</h2>
            
            <audio id="global-audio-player" src="" preload="metadata"></audio>
            
            <div class="progress-container">
                <span id="current-time" class="time-display">0:00</span>
                <input type="range" id="progress-bar" value="0" min="0" max="100" step="0.1">
                <span id="duration" class="time-display">0:00</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="skipTime(-10)"><i class="fas fa-backward"></i></button>
                <button class="control-btn main-play" id="main-play-btn" onclick="togglePlay()">
                    <i class="fas fa-play"></i>
                </button>
                <button class="control-btn" onclick="skipTime(10)"><i class="fas fa-forward"></i></button>
            </div>
        </div>
        
        <div class="playlist">
            <p class="playlist-title">√ìle≈Ñder Tizimi:</p>

            <div class="search-container">
                <input type="text" id="playlist-search" placeholder="√ìle≈Ñ ata√Ωyn izdew..." onkeyup="filterPlaylist()">
                <i class="fas fa-search search-icon"></i>
            </div>
            
            <div class="playlist-item" data-index="0">
                <div class="item-info">
                    <i class="fas fa-music"></i>
                    <span>1. Orta j√∫z</span>
                </div>
                <div class="item-actions">
                    <span class="item-duration">0:00</span>
                </div>
            </div>
            
            <div class="playlist-item" data-index="1">
                <div class="item-info">
                    <i class="fas fa-music"></i>
                    <span>2. Jaryl«µap batyr</span>
                </div>
                <div class="item-actions">
                    <span class="item-duration">0:00</span>
                    <button class="lyrics-toggle-btn" data-lyrics-index="1" onclick="toggleLyrics(this)">M√°tin</button>
                </div>
                <div class="lyrics-content" id="lyrics-1">
                    <p>
                        Qazaqty≈Ñ uly aty ‚Äì Qaraker–µƒ± urany,
                        Jo≈Ñ«µar shapqynshyly«µynda tasqa basqan murany.
                        K√≥kj–∞ld–∞ƒ± √≥rsh—ñl ruhbty, –µs—ñm—ñ ‚Äì J–∞r—Él«µ–∞p,
                        Qyr—Éq j–ær—Éq, q–∞ndy urys ‚Äì t–∞rƒ±hynd–∞ –∞nyz b–æp q–∞l«µ–∞n.
                        
                        Buq–∞r jyr–∞u t–æl«µ–∞«µ–∞n: "–ö–µrn–µƒ±d–µ ‚Äì J–∞r—Él«µ–∞p!"
                        –¢u ust–∞«µ–∞n b–∞tyr d–µp, q–∞t–∞r—Én–∞n q–∞ldyrm–∞«µ–∞n b–∞«µ–∞l–∞p.
                        Q–∞b–∞nb–∞ƒ±, B√≥g–µnb–∞ƒ±m–µn b—ñrg–µ q–∞nyn t√≥–∫–∫–µn,
                        Q–∞s b–∞tyrd—É≈Ñ q–∞d—ñr—ñn Q–∞z–∞q –µl—ñ s–µp–∫–µn.
                        –ûn –∞lty j–∞synd–∞ Q–∞zyb–µ–∫ b—ñd–µn b–∞t–∞ –∞l«µ–∞n,
                        "–¢–∞rh–∞n" –∞t–∞«µyn Qyt–∞ƒ±d–∞n d–∞ –∞l—Ép t–∞≈Ñ«µ–∞ltq–∞n.
                        Bul ‚Äì –∞nyz –µm–µs, j–∞z—Él«µ–∞n t–∞rƒ±hƒ± d–µr–µ–∫,
                        –ïrl—ñg—ñ ‚Äì √∫l–∫–µn d–∞l–∞n—É≈Ñ j–∞dynd–∞ tur«µ–∞n t—ñr–µ–∫.

                        J–∞r—Él«µ–∞p! J–∞r—Él«µ–∞p! Q–∞ndy j–ær—Éqt–∞rd–∞«µ—É t–µm—ñr!
                        Q–∞lb–∞-Sh–∞«µ–∞n sh–∞ƒ±q–∞synd–∞ j–µ≈Ñd—ñ –∫–µb—ñn q–∞lm–∞qty s–∞l—Ép √≥m—ñr.
                        –ûl ‚Äì N–∞ƒ±m–∞nn—É≈Ñ nuru, ruhby b—ñƒ±—ñ–∫, –∞qul—É d–∞ d–∞n–∞,
                        –êru–∞«µ—É q–∞r–∞ b√∫rk—ñt b–æp, q–æl b–∞st–∞«µ–∞n d–∞r–∞!

                        –êƒ±l–∞sy –∞sq–∞n b–∞tyr, t–µ–∫ q–∞n–∞ –∫√∫shb–µn –µm–µs,
                        –êb—Él–∞ƒ± h–∞nn—É≈Ñ q–∞synd–∞ –∞qul«µ–∞ s–∞l—Ép —ñst–µg–µn.
                        H–∞nt–∞u j–ær—É«µ—Énd–∞ B–µtb–∞q –∞rqul—É q–æl b–∞st–∞p,
                        Q–ænt–∞ƒ±sh—Én—É q–ærsh–∞p, q–∞z–∞qq–∞ –∫–µlt—ñrg–µn b–æst–∞nd—Éq.
                        B–∞ƒ±«µ–æzy b–∞tyrm–µn b—ñrg–µ, b–∞rl–∞ush—É b–æp –∞ld–∞ j√∫rg–µn,
                        "–ö√≥zg–µ t√∫sb–µƒ±, sh√≥ld–µtb–µƒ±" ‚Äì d–µp, –µ–∫—ñ –∫–µp—ñld—ñ–∫ b–µrg–µn.
                        Bul ‚Äì J–∞r—Él«µ–∞pt—É≈Ñ √°s–∫–µrƒ± t–∞ktƒ±k–∞sy,
                        Q–∞ƒ±r–∞t p–µn –∞quld—É ust–∞styr«µ–∞n n–∞«µyz s–∞qshysy.

                        –ïnd—ñ b—ñl! S–µn—ñ≈Ñ t–µg—ñ≈Ñd–µ –æsynd–∞ƒ± –∫√≥–∫j–∞l b–∞r!
                        Q–∞r–∞–∫–µ t–∞myrynn–∞n √≥s—ñp-√≥ng–µn √∫lg—ñ –∞l–∞r.
                        –ûnn—É≈Ñ √°r–±—ñr –µrl—ñg—ñ ‚Äì urp–∞qq–∞ √≥shb–µs mur–∞,
                        J–∞r—Él«µ–∞p b–∞tyrd—É b—ñl√Ω ‚Äì q–∞z–∞qq–∞ ul—É sh–∞r–∞!

                        –ïs—ñm—ñ≈Ñd—ñ –∞ƒ±t—Ép, ur–∞n—É≈Ñd—É sh–∞qur–∞m—Éz,
                        J–∞r—Él«µ–∞p ruhby ‚Äì b—ñzd—ñ≈Ñ m√°≈Ñg—ñl—ñ–∫ –∞s—Él n–∞m—Ésymyz!
                        Uly d–∞l–∞n—É≈Ñ d–∞≈Ñqun, Q–∞r–∞–∫–µr–µƒ±d—ñ≈Ñ q–∞h–∞ryn,
                        Um—Éttyrm–∞ƒ± j–∞l«µ–∞styr—É ‚Äì b—ñzd—ñ≈Ñ p–∞ryzymyz!
                    </p>
                    <p class="author-sign">~ Qabykenov Sa«µynysh</p>
                </div>
            </div>
            
            <div class="playlist-item" data-index="2">
                <div class="item-info">
                    <i class="fas fa-music"></i>
                    <span>3. Tegimni≈Ñ r√Ωhy</span>
                </div>
                <div class="item-actions">
                    <span class="item-duration">0:00</span>
                    <button class="lyrics-toggle-btn" data-lyrics-index="2" onclick="toggleLyrics(this)">M√°tin</button>
                </div>
                <div class="lyrics-content" id="lyrics-2">
                    <p>
                        Qazaqpyz, tamyr√Ωymyz ‚Äì Alashtan n√°r al«µan,
                        √ösh j√∫zge b√≥lingen uly dalam, sary alqam.
                        Meni≈Ñ tegim ‚Äì Orta j√∫z, aƒ±byndy naƒ±zasy,
                        Jarq etken jalyndy j√∫rek, qazaqty≈Ñ dara uly!
                        Uranym ‚Äì Qapta«µaƒ±, t√≥bemde tur«µan t√Ω,
                        Men Naƒ±man Qaraker–µƒ±, tegimdi tanyp u«µ√Ω.
                        Tizbegim on alty ata, k–µr√Ωend–µƒ± sozyl«µan,
                        √ìmirg–µ j–∞l«µasyp, k√≥–∫jƒ±–µkt–µn –æzyl«µ–∞n!

                        –ï≈Ñ –∞l«µ–∞sh ‚Äì B–∞ƒ±t–ær—É, t–∞rƒ±hty≈Ñ t–µr–µ≈Ñ—ñnd–µ,
                        –ö–µl–µd—ñ ‚Äì –êƒ±ram, uly —ñs—ñm–µn –µl—ñnd–µ.
                        S–æsyn ‚Äì J–∞nqul—É, t–∞sq–∞ b–∞sq–∞n m√≥r—ñ,
                        Q–æj–∞mb–µt, –êƒ±t ‚Äì urp–∞qty≈Ñ b—ñƒ±—ñ–∫ t√≥r—ñ.
                        –ûd–∞n s–æ≈Ñ ‚Äì J√°lm–µmb–µt, √°d—ñld—ñk ur–∞n—É,
                        Qudys p–µn B–∞ƒ±sh–ær–∞, sh–µj—ñr–µn—ñ≈Ñ qur–∞n—É.

                        –êr–∞d–∞ j–∞rq –µtk–µn J–∞r—Él«µ–∞p b–∞tyr –∞t–∞m ‚Äì
                        Q–∞z–∞qty≈Ñ n–∞m—Ésy √∫sh—ñn qyl—Éshyn s—ñlt–µg–µn.
                        –ïs—ñm—ñ –µld—ñ≈Ñ –∞—Éz—Énd–∞, d–∞st–∞nd–∞r«µ–∞ –∞rq–∞u,
                        –ûsy t–µ–∫t—ñ j–∞l«µ–∞styr—É ‚Äì m–µn—ñ≈Ñ ul—É –∞ntym!

                        Shuqyn, √ö–∫—ñ, Q–æn–∞rb–∞ƒ± ‚Äì t–∞rƒ±hty≈Ñ –∫–µz–µ≈Ñ—ñ,
                        R–∞m–∞z–∞n ‚Äì —ñz q–∞ldyr«µan √≥m—ñrd—ñ≈Ñ √≥z–µg—ñ.
                        –êt–∞m ‚Äì Q–∞by–∫–µn, –∞qylshym, t—ñr–µu—ñm,
                        √Å–∫–µm ‚Äì T√≥r–µ«µ–∞lƒ±, –µrl—ñ–∫p–µn j√∫r–µm—ñn.
                        Q–∞z—ñrg—ñ k√∫n ‚Äì N–∞ƒ±m–∞nn—É≈Ñ q–æs q–∞n–∞ty,
                        √Å–∫–µmn—ñ≈Ñ j–∞l«µ–∞sy, –µk—ñ ul—Én—É≈Ñ t–∞l–∞b—É.
                        Qu–∞nysh ‚Äì √∫l–∫–µn—ñm, t–µg—ñn b—ñlg–µn p–∞r–∞s–∞t,
                        –êl m–µn ‚Äì S–∞«µyn—Ésh, ruhby k√≥–∫k–µ q–∞r–∞t!

                        M–µn ‚Äì t–µ–∫ q–∞n–∞ b—ñr –∞d–∞m –µm–µs, b—ñr t–∞rƒ±hpyn,
                        –êt–∞mn—É≈Ñ –∞m–∞n–∞tyn, b–∞tyrd—É≈Ñ –∞ƒ±b—Én—Én s–∞qt–∞ƒ±m—Én.
                        N–∞ƒ±m–∞n Q–∞r–∞–∫–µr–µƒ± urp–∞«µ—É, m–∞qt–∞n—Éshym ‚Äì t–µg—ñ,
                        J–µt—ñ –∞t–∞md—É –∞ƒ±t√Ω ‚Äì m–µn—ñ≈Ñ DNA-k–ædym!
                    </p>
                    <p class="author-sign">~ Qabykenov Sa«µynysh</p>
                </div>
            </div>
        </div>

    </div>

    <div class="modal-overlay" id="language-modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeLanguageModal()">&times;</span>
            <h3>Tildi ta≈Ñda√Ω / –¢—ñ–ª–¥—ñ —Ç–∞“£–¥–∞—É</h3>
            <div id="lang-options-container">
                <div class="lang-option selected" data-lang="kk-Latn">
                    <i class="fas fa-font"></i> Qazaq tili (Latyn)
                </div>
                <div class="lang-option" data-lang="kk-Cyrl">
                    <i class="fas fa-font"></i> “ö–∞–∑–∞“õ —Ç—ñ–ª—ñ (–ö–∏—Ä–∏–ª–ª)
                </div>
                <div class="lang-option" data-lang="ru">
                    <i class="fas fa-globe"></i> –†—É—Å—Å–∫–∏–π —è–∑—ã–∫
                </div>
                <div class="lang-option" data-lang="zh">
                    <i class="fas fa-globe-asia"></i> ÁÆÄ‰Ωì‰∏≠Êñá (Simplified Chinese)
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===================================================
        // üåê –ñ–ê“¢–ê: –ü–†–û–§–ò–õ–¨ –ñ”ò–ù–ï –¢–Ü–õ –§–£–ù–ö–¶–ò–Ø–õ–ê–†–´
        // ===================================================
        const profileDropdown = document.getElementById('profile-dropdown');
        const langModal = document.getElementById('language-modal');
        const authLink = document.getElementById('auth-link');
        const settingsLink = document.getElementById('settings-link');
        const logoutLink = document.getElementById('logout-link');

        function toggleProfileDropdown() {
            profileDropdown.classList.toggle('open');
        }

        function openLanguageModal() {
            langModal.style.display = 'flex';
        }

        function closeLanguageModal() {
            langModal.style.display = 'none';
        }
        
        document.getElementById('lang-options-container').addEventListener('click', function(e) {
            const option = e.target.closest('.lang-option');
            if (option) {
                document.querySelectorAll('.lang-option').forEach(opt => opt.classList.remove('selected'));
                option.classList.add('selected');
                const lang = option.getAttribute('data-lang');
                // ‚ö†Ô∏è –ù–ê“ö–¢–´ –¢–Ü–õ –ê–£–´–°–¢–´–†–£ –û–ü–ï–†–ê–¶–ò–Ø–°–´ –û–°–´ –ñ–ï–†–î–ï –û–†–´–ù–î–ê–õ–ê–î–´!
                // “ö–∞–∑—ñ—Ä —Ç–µ–∫ –≤–∏–∑—É–∞–ª–¥—ã ”©–∑–≥–µ—Ä—ñ—Å.
                alert(`Tildi a√Ωystyryldy: ${lang}. Toƒ±lyq a√Ωystyr√Ω √∫shin backend qajet.`);
                // closeLanguageModal(); 
            }
        });
        
        authLink.onclick = function(e) {
            e.preventDefault();
            alert("Kir√Ω/Tirkel√Ω betine √≥t√Ω (F√Ωnksƒ±ƒ±asy qosylma«µan)");
            authLink.style.display = 'none';
            settingsLink.style.display = 'block';
            logoutLink.style.display = 'block';
            toggleProfileDropdown(); 
        }

        logoutLink.onclick = function(e) {
            e.preventDefault();
            authLink.style.display = 'block';
            settingsLink.style.display = 'none';
            logoutLink.style.display = 'none';
            toggleProfileDropdown(); 
        }
        
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.profile-section') && profileDropdown.classList.contains('open')) {
                profileDropdown.classList.remove('open');
            }
        });

        // ===================================================
        // üéß –ë“∞–†–´–ù“í–´ –ê–£–î–ò–û –ü–õ–ï–ï–† –§–£–ù–ö–¶–ò–Ø–õ–ê–†–´ (”®–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑)
        // ===================================================

        const audioPlayer = document.getElementById('global-audio-player');
        const playBtn = document.getElementById('main-play-btn');
        const playIcon = playBtn.querySelector('i');
        const playlistItems = document.querySelectorAll('.playlist-item');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeDisplay = document.getElementById('current-time');
        const durationDisplay = document.getElementById('duration');
        const trackTitleDisplay = document.getElementById('current-track-title');
        let currentTrackIndex = -1;
        
        const tracks = [
            { title: "1. Orta j√∫z", src: "orta_juz_audio.mp3" }, 
            { title: "2. Jaryl«µap batyr", src: "jarylgap_batyr_audio.mp3" }, 
            { title: "3. Tegimni≈Ñ r√Ωhy", src: "tegimnin_ruhy_audio.mp3" } 
        ];

        function formatTime(seconds) {
            if (isNaN(seconds)) return "0:00";
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }

        function updateProgressStyle(percent) {
            progressBar.style.background = `linear-gradient(to right, var(--secondary-neon) ${percent}%, rgba(255, 255, 255, 0.1) ${percent}%)`;
        }

        function loadTrack(index) {
            if (index < 0 || index >= tracks.length) return;

            if (index === currentTrackIndex) {
                togglePlay();
                return;
            }

            currentTrackIndex = index;
            const track = tracks[index];

            trackTitleDisplay.textContent = track.title;
            audioPlayer.src = track.src;
            audioPlayer.load();

            playlistItems.forEach(item => item.classList.remove('playing'));
            playlistItems[index].classList.add('playing');

            const playPromise = audioPlayer.play();
            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    playIcon.className = 'fas fa-pause';
                }).catch(error => {
                    console.log("Autoplay blocked. Press play button.");
                    playIcon.className = 'fas fa-play';
                });
            }
        }

        function togglePlay() {
            if (currentTrackIndex === -1) {
                loadTrack(0);
                return;
            }
            
            if (audioPlayer.paused) {
                audioPlayer.play();
                playIcon.className = 'fas fa-pause';
            } else {
                audioPlayer.pause();
                playIcon.className = 'fas fa-play';
            }
        }

        function skipTime(time) {
            audioPlayer.currentTime += time;
        }

        playlistItems.forEach((item, index) => {
            item.addEventListener('click', (e) => {
                if (e.target.classList.contains('lyrics-toggle-btn')) {
                    return;
                }
                loadTrack(index);
            });
        });

        audioPlayer.addEventListener('loadedmetadata', () => {
            durationDisplay.textContent = formatTime(audioPlayer.duration);
            progressBar.max = audioPlayer.duration;
            
            if (currentTrackIndex !== -1) {
                playlistItems[currentTrackIndex].querySelector('.item-duration').textContent = durationDisplay.textContent;
            }
        });

        audioPlayer.addEventListener('timeupdate', () => {
            const currentTime = audioPlayer.currentTime;
            const duration = audioPlayer.duration;
            
            progressBar.value = currentTime;
            currentTimeDisplay.textContent = formatTime(currentTime);

            const progressPercent = (currentTime / duration) * 100;
            updateProgressStyle(progressPercent);
        });

        audioPlayer.addEventListener('ended', () => {
            const nextIndex = (currentTrackIndex + 1) % tracks.length; 
            loadTrack(nextIndex);
        });

        progressBar.addEventListener('change', () => {
            audioPlayer.currentTime = progressBar.value;
        });

        function filterPlaylist() {
            const searchInput = document.getElementById('playlist-search').value.toLowerCase();
            
            playlistItems.forEach(item => {
                const titleElement = item.querySelector('.item-info span');
                if (titleElement) {
                    const title = titleElement.textContent.toLowerCase();
                    
                    if (title.includes(searchInput)) {
                        item.classList.remove('hidden'); 
                    } else {
                        item.classList.add('hidden'); 
                    }
                }
            });
        }

        function toggleLyrics(button) {
            const lyricsIndex = button.getAttribute('data-lyrics-index');
            const lyricsContent = document.getElementById(`lyrics-${lyricsIndex}`);
            
            if (!lyricsContent) return;

            document.querySelectorAll('.lyrics-content').forEach(content => {
                if (content !== lyricsContent && content.classList.contains('open')) {
                    content.classList.remove('open');
                    const parentItem = content.closest('.playlist-item');
                    const otherButton = parentItem.querySelector('.lyrics-toggle-btn');
                    if (otherButton) otherButton.textContent = 'M√°tin';
                }
            });

            lyricsContent.classList.toggle('open');

            if (lyricsContent.classList.contains('open')) {
                button.textContent = 'Jab√Ω';
            } else {
                button.textContent = 'M√°tin';
            }
        }
        
        function toggleFavorite() {
            const favBtn = document.getElementById('main-favorite-btn').querySelector('i');
            if (favBtn.classList.contains('far')) {
                favBtn.classList.remove('far');
                favBtn.classList.add('fas');
                favBtn.style.color = 'var(--secondary-neon)';
            } else {
                favBtn.classList.remove('fas');
                favBtn.classList.add('far');
                favBtn.style.color = 'var(--light-text)'; 
            }
        }
    </script>

</body>
</html>